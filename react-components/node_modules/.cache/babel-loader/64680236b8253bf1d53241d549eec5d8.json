{"ast":null,"code":"import _slicedToArray from\"/workspace/first-react-app/react-components/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import Card from'./shared/Card';import Button from'./shared/Button';import{useState}from'react';import RatingSelect from'./RatingSelect';import{useContext,useEffect}from'react';import FeedbackContext from'../context/FeedbackContext';function FeedbackForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),btnDisable=_useState4[0],setBtnDisable=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(10),_useState8=_slicedToArray(_useState7,2),rating=_useState8[0],setRating=_useState8[1];var _useContext=useContext(FeedbackContext),addFeedback=_useContext.addFeedback,updateFeedback=_useContext.updateFeedback,feedbackEdit=_useContext.feedbackEdit;useEffect(function(){if(feedbackEdit.edit===true){setBtnDisable(false);setText(feedbackEdit.item.text);}},[feedbackEdit]);var handleTextChange=function handleTextChange(e){setText(e.target.value);if(text!==''){setBtnDisable(true);setMessage(null);}else if(text!==\"\"&&text.trim().length<=10){setBtnDisable(true);setMessage(\"Text must be at least 10 characters\");}else{setBtnDisable(false);setMessage(null);}};var handleSubmit=function handleSubmit(e){e.preventDefault();if(text.trim().length>10){var newFeedback={text:text,rating:rating};if(feedbackEdit.edit==='')addFeedback(newFeedback);}};return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"How would you rate our service?\"}),/*#__PURE__*/_jsx(RatingSelect,{select:setRating,selected:rating}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Write a rating\",value:text,onChange:handleTextChange}),/*#__PURE__*/_jsx(Button,{onChange:handleTextChange,isDisabled:btnDisable,type:\"submit\",children:\"Send\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:message})]})});}export default FeedbackForm;","map":{"version":3,"sources":["/workspace/first-react-app/react-components/src/components/FeedbackForm.js"],"names":["React","Card","Button","useState","RatingSelect","useContext","useEffect","FeedbackContext","FeedbackForm","text","setText","btnDisable","setBtnDisable","message","setMessage","rating","setRating","addFeedback","updateFeedback","feedbackEdit","edit","item","handleTextChange","e","target","value","trim","length","handleSubmit","preventDefault","newFeedback"],"mappings":"0PAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,OAAQC,QAAR,KAAuB,OAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,OAAtC,CACA,MAAOC,CAAAA,eAAP,KAA4B,4BAA5B,CAEA,QAASC,CAAAA,YAAT,EAAwB,eAEIL,QAAQ,CAAC,EAAD,CAFZ,wCAEbM,IAFa,eAEPC,OAFO,8BAGgBP,QAAQ,CAAC,IAAD,CAHxB,yCAGbQ,UAHa,eAGDC,aAHC,8BAIUT,QAAQ,CAAC,EAAD,CAJlB,yCAIbU,OAJa,eAIJC,UAJI,8BAKQX,QAAQ,CAAC,EAAD,CALhB,yCAKbY,MALa,eAKLC,SALK,+BAMgCX,UAAU,CAACE,eAAD,CAN1C,CAMbU,WANa,aAMbA,WANa,CAMAC,cANA,aAMAA,cANA,CAMgBC,YANhB,aAMgBA,YANhB,CAQtBb,SAAS,CAAC,UAAM,CACd,GAAIa,YAAY,CAACC,IAAb,GAAsB,IAA1B,CAAgC,CAC9BR,aAAa,CAAC,KAAD,CAAb,CACAF,OAAO,CAACS,YAAY,CAACE,IAAb,CAAkBZ,IAAnB,CAAP,CACD,CAGF,CAPQ,CAOP,CAACU,YAAD,CAPO,CAAT,CASC,GAAMG,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,CAAD,CAAO,CAC/Bb,OAAO,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACA,GAAIhB,IAAI,GAAI,EAAZ,CAAgB,CACdG,aAAa,CAAC,IAAD,CAAb,CACAE,UAAU,CAAC,IAAD,CAAV,CACD,CAHD,IAGO,IAAKL,IAAI,GAAK,EAAT,EAAeA,IAAI,CAACiB,IAAL,GAAYC,MAAZ,EAAsB,EAA1C,CAA6C,CAClDf,aAAa,CAAC,IAAD,CAAb,CACAE,UAAU,CAAC,qCAAD,CAAV,CACD,CAHM,IAGA,CACLF,aAAa,CAAC,KAAD,CAAb,CACAE,UAAU,CAAC,IAAD,CAAV,CAED,CACD,CAbD,CAeA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACL,CAAD,CAAO,CAC3BA,CAAC,CAACM,cAAF,GACA,GAAIpB,IAAI,CAACiB,IAAL,GAAYC,MAAZ,CAAqB,EAAzB,CAA8B,CAC5B,GAAMG,CAAAA,WAAW,CAAG,CAClBrB,IAAI,CAAJA,IADkB,CAElBM,MAAM,CAANA,MAFkB,CAApB,CAIA,GAAGI,YAAY,CAACC,IAAb,GAAsB,EAAzB,CACAH,WAAW,CAACa,WAAD,CAAX,CACD,CACD,CAVD,CAWD,mBAEE,KAAC,IAAD,wBACI,cAAM,QAAQ,CAAEF,YAAhB,wBACA,uDADA,cAED,KAAC,YAAD,EAAc,MAAM,CAAEZ,SAAtB,CAAiC,QAAQ,CAAED,MAA3C,EAFC,cAGA,aAAK,SAAS,CAAC,aAAf,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,gBAA/B,CAAgD,KAAK,CAAEN,IAAvD,CAA8D,QAAQ,CAAEa,gBAAxE,EADJ,cAEI,KAAC,MAAD,EAAQ,QAAQ,CAAGA,gBAAnB,CAAqC,UAAU,CAAIX,UAAnD,CAA+D,IAAI,CAAG,QAAtE,kBAFJ,GAHA,CAQCE,OAAO,eAAI,YAAK,SAAS,CAAC,SAAf,UAA0BA,OAA1B,EARZ,GADJ,EAFF,CAkBD,CAED,cAAeL,CAAAA,YAAf","sourcesContent":["import React from 'react'\nimport Card from './shared/Card'\nimport Button from './shared/Button'\nimport {useState} from 'react'\nimport RatingSelect from './RatingSelect'\nimport { useContext, useEffect } from 'react'\nimport FeedbackContext from '../context/FeedbackContext'\n\nfunction FeedbackForm() {\n    \n    const [text, setText] = useState('')\n    const [btnDisable, setBtnDisable] = useState(true)\n    const [message, setMessage] = useState(\"\")\n    const [rating, setRating] = useState(10)\n    const {addFeedback, updateFeedback, feedbackEdit} = useContext(FeedbackContext)\n\n  useEffect(() => {\n    if (feedbackEdit.edit === true) {\n      setBtnDisable(false)\n      setText(feedbackEdit.item.text)\n    }\n\n\n  },[feedbackEdit])\n\n   const handleTextChange = (e) => {\n    setText(e.target.value)\n    if (text !=='') {\n      setBtnDisable(true)\n      setMessage(null)\n    } else if ( text !== \"\" && text.trim().length <= 10){\n      setBtnDisable(true)\n      setMessage(\"Text must be at least 10 characters\")\n    } else {\n      setBtnDisable(false)\n      setMessage(null)\n\n    }\n   }\n\n   const handleSubmit = (e) => {\n    e.preventDefault()\n    if (text.trim().length > 10 ) {\n      const newFeedback = {\n        text,\n        rating,\n      }\n      if(feedbackEdit.edit === '')\n      addFeedback(newFeedback)\n    }\n   }\n  return (\n    \n    <Card>\n        <form onSubmit={handleSubmit}>\n        <h1>How would you rate our service?</h1>\n       <RatingSelect select={setRating} selected={rating}></RatingSelect>\n        <div className='input-group'>\n            <input type='text' placeholder='Write a rating' value={text}  onChange={handleTextChange}/>\n            <Button onChange ={handleTextChange} isDisabled = {btnDisable} type = 'submit'>Send</Button>\n\n        </div>\n        {message && <div className='message'>{message}</div>}\n        \n        </form>\n\n\n    </Card>\n  )\n}\n\nexport default FeedbackForm"]},"metadata":{},"sourceType":"module"}